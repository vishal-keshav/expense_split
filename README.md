# Expense Split

This repository contains a small set of Python utilities for parsing a receipt and calculating how the expense should be shared among multiple people. It was written for personal use to simplify splitting the bill before entering expenses in Splitwise or a similar tool.

## Overview

The workflow is broken into three steps:

1. **Parse the receipt** (`parse_bill.py`)
   - Reads a PDF file containing a scanned receipt.
   - Extracts items and their prices using simple regular expressions.
   - Writes the parsed list to `parsed.txt` (or a file you choose).

2. **Review and assign shares** (`web_interface.py`)
   - Opens a small local web server on `http://127.0.0.1:7000`.
   - Displays a form where you can tick participants for each item and optionally set custom fractions or amounts.
   - Saves the result to `split.txt`.

3. **Compute individual totals** (`split_bill.py`)
   - Reads the `split.txt` file from the previous step.
   - Verifies the distribution and prints how much each person owes along with the total of the receipt.

```
bill.pdf ──▶ parse_bill.py ──▶ parsed.txt ──▶ web_interface.py ──▶ split.txt ──▶ split_bill.py
```

## File Formats

`parsed.txt` is expected to contain a Python list in the following format:

```python
[["Item1", 2.50], ["Item2", 20.00], ["Item3", 100.50], ...]
```

`split.txt` is a list of `[item_name, price, {user: amount, ...}]` entries generated by the web interface.

## Usage

```bash
# Step 1: parse the PDF receipt
python3 parse_bill.py --input bill.pdf --output parsed.txt

# Step 2: launch the web interface to allocate costs
python3 web_interface.py --input parsed.txt --participant Alice Bob Charlie --output split.txt

# Step 3: compute totals
python3 split_bill.py --input split.txt --participant Alice Bob Charlie
```

## Dependencies

- Python 3
- `PyPDF2` for extracting text from the PDF receipt

Install dependencies with `pip install PyPDF2` or add any other required packages depending on your environment.

## License

This project is released to the public domain under the terms of [The Unlicense](LICENSE).
